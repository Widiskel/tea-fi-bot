function a5_0xc8a5(_0x1c21fa,_0x325296){const _0x4c997d=a5_0x2926();return a5_0xc8a5=function(_0x5d9076,_0x2a433a){_0x5d9076=_0x5d9076-0x99;let _0x292662=_0x4c997d[_0x5d9076];if(a5_0xc8a5['BqvsMF']===undefined){var _0xc8a5cd=function(_0x7a7ec9){const _0x48942d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2135e3='',_0x4c5b4e='',_0x29393f=_0x2135e3+_0xc8a5cd;for(let _0x2b64b8=0x0,_0x3f569e,_0x489a84,_0x3995ea=0x0;_0x489a84=_0x7a7ec9['charAt'](_0x3995ea++);~_0x489a84&&(_0x3f569e=_0x2b64b8%0x4?_0x3f569e*0x40+_0x489a84:_0x489a84,_0x2b64b8++%0x4)?_0x2135e3+=_0x29393f['charCodeAt'](_0x3995ea+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3f569e>>(-0x2*_0x2b64b8&0x6)):_0x2b64b8:0x0){_0x489a84=_0x48942d['indexOf'](_0x489a84);}for(let _0x288a7f=0x0,_0x367ffc=_0x2135e3['length'];_0x288a7f<_0x367ffc;_0x288a7f++){_0x4c5b4e+='%'+('00'+_0x2135e3['charCodeAt'](_0x288a7f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c5b4e);};const _0x38b65d=function(_0x3b2af3,_0xb64c13){let _0x2a49c6=[],_0x23d10a=0x0,_0x52ce1c,_0x488e89='';_0x3b2af3=_0xc8a5cd(_0x3b2af3);let _0x359969;for(_0x359969=0x0;_0x359969<0x100;_0x359969++){_0x2a49c6[_0x359969]=_0x359969;}for(_0x359969=0x0;_0x359969<0x100;_0x359969++){_0x23d10a=(_0x23d10a+_0x2a49c6[_0x359969]+_0xb64c13['charCodeAt'](_0x359969%_0xb64c13['length']))%0x100,_0x52ce1c=_0x2a49c6[_0x359969],_0x2a49c6[_0x359969]=_0x2a49c6[_0x23d10a],_0x2a49c6[_0x23d10a]=_0x52ce1c;}_0x359969=0x0,_0x23d10a=0x0;for(let _0x1ab929=0x0;_0x1ab929<_0x3b2af3['length'];_0x1ab929++){_0x359969=(_0x359969+0x1)%0x100,_0x23d10a=(_0x23d10a+_0x2a49c6[_0x359969])%0x100,_0x52ce1c=_0x2a49c6[_0x359969],_0x2a49c6[_0x359969]=_0x2a49c6[_0x23d10a],_0x2a49c6[_0x23d10a]=_0x52ce1c,_0x488e89+=String['fromCharCode'](_0x3b2af3['charCodeAt'](_0x1ab929)^_0x2a49c6[(_0x2a49c6[_0x359969]+_0x2a49c6[_0x23d10a])%0x100]);}return _0x488e89;};a5_0xc8a5['rBwHhW']=_0x38b65d,_0x1c21fa=arguments,a5_0xc8a5['BqvsMF']=!![];}const _0x499590=_0x4c997d[0x0],_0x34de51=_0x5d9076+_0x499590,_0x5b1bf5=_0x1c21fa[_0x34de51];if(!_0x5b1bf5){if(a5_0xc8a5['WixOFN']===undefined){const _0x25a94b=function(_0x32b404){this['fZbOOH']=_0x32b404,this['nbSySb']=[0x1,0x0,0x0],this['eAmIdl']=function(){return'newState';},this['NVpuFK']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['UuNRWg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x25a94b['prototype']['VCBvnE']=function(){const _0xa8f0e2=new RegExp(this['NVpuFK']+this['UuNRWg']),_0x210996=_0xa8f0e2['test'](this['eAmIdl']['toString']())?--this['nbSySb'][0x1]:--this['nbSySb'][0x0];return this['aRwRna'](_0x210996);},_0x25a94b['prototype']['aRwRna']=function(_0x4ca6ca){if(!Boolean(~_0x4ca6ca))return _0x4ca6ca;return this['wieAvi'](this['fZbOOH']);},_0x25a94b['prototype']['wieAvi']=function(_0x340cb5){for(let _0x411741=0x0,_0x46668c=this['nbSySb']['length'];_0x411741<_0x46668c;_0x411741++){this['nbSySb']['push'](Math['round'](Math['random']())),_0x46668c=this['nbSySb']['length'];}return _0x340cb5(this['nbSySb'][0x0]);},new _0x25a94b(a5_0xc8a5)['VCBvnE'](),a5_0xc8a5['WixOFN']=!![];}_0x292662=a5_0xc8a5['rBwHhW'](_0x292662,_0x2a433a),_0x1c21fa[_0x34de51]=_0x292662;}else _0x292662=_0x5b1bf5;return _0x292662;},a5_0xc8a5(_0x1c21fa,_0x325296);}const a5_0x3e0af3=a5_0xc8a5;(function(_0x58c451,_0x1932e4){const _0x3062bc=a5_0xc8a5,_0x5d16ec=_0x58c451();while(!![]){try{const _0x179439=parseInt(_0x3062bc(0xe8,'aO9('))/0x1*(-parseInt(_0x3062bc(0x144,'4peW'))/0x2)+-parseInt(_0x3062bc(0x9b,'TtyA'))/0x3+parseInt(_0x3062bc(0xdd,'Hw$('))/0x4*(parseInt(_0x3062bc(0xe1,'[NZL'))/0x5)+parseInt(_0x3062bc(0x149,'8jMH'))/0x6+-parseInt(_0x3062bc(0x140,'Ld3f'))/0x7*(parseInt(_0x3062bc(0xf0,'(a*l'))/0x8)+parseInt(_0x3062bc(0xd8,'Nbh*'))/0x9*(-parseInt(_0x3062bc(0x118,'cZb#'))/0xa)+parseInt(_0x3062bc(0x142,'@1!Q'))/0xb;if(_0x179439===_0x1932e4)break;else _0x5d16ec['push'](_0x5d16ec['shift']());}catch(_0x418d0a){_0x5d16ec['push'](_0x5d16ec['shift']());}}}(a5_0x2926,0x2a58d));const a5_0x2a433a=(function(){let _0x196410=!![];return function(_0x15c12c,_0x4a9ba4){const _0x378f17=_0x196410?function(){const _0x454b87=a5_0xc8a5;if(_0x4a9ba4){const _0x26f0dd=_0x4a9ba4[_0x454b87(0x104,'fQCc')](_0x15c12c,arguments);return _0x4a9ba4=null,_0x26f0dd;}}:function(){};return _0x196410=![],_0x378f17;};}()),a5_0x5d9076=a5_0x2a433a(this,function(){const _0x4ee224=a5_0xc8a5;return a5_0x5d9076['toString']()['search'](_0x4ee224(0xeb,']xDj'))[_0x4ee224(0xd9,'SjNI')]()['constructor'](a5_0x5d9076)[_0x4ee224(0x12e,'UZby')](_0x4ee224(0x12b,'8#t8'));});a5_0x5d9076();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a5_0x23232f from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{API}from'./api/api.js';import{TOKENLIST}from'./abi/erc20_token_list.js';import a5_0x544dfa from'./db/sqlite.js';import{Config}from'../../config/config.js';import{Transaction}from'ethers';import{Contract}from'ethers';import{Permit2}from'./abi/permit2.js';import{Relayer}from'./abi/relayer.js';function a5_0x2926(){const _0x300566=['W6GAWPiMz8o+ffNdVmknWOOuW4i','eSkLndKb','WOP3W6zvgCkd','F8kfWQWsW5maWPZcIW','zWaobJFcQNJdUga5WOLcqub0BCoX','l8kuW7pcUxhdLwdcTmoLWQG','WRxdNmonhSoLxmkauSkyWQnYk8ogWOZcNW','WR9Od0xdNSoxW4GgWRddOmkmW73dNMFcPCkMWPSDW5m','WODdk8oWW4a','aCkxqtxcUeldSCkT','rtG/prBcLvK','DruFbJVcTa','n0nobZpcThddTeO','W5lcSCk7lCoGsa','WRFdK8op','j1T+vq','t8kEWQmsW5qs','bSkiDY/cRK7dRq','W71NW54JWQ8','i8ketYuX','W61nW6y','WO7dUCo5pd/dGSkPWOJcSdjF','vmkwzmokW50pWOe8W4VdOeL/','W51cs8kLuYhcUCo4','WQSfWRjmWRK','AvRdI0WfWPWTWRhcUW','WRBcKZtcHCo3','WQ5pW4D7m8k7','WRlcMs3cJCoWrq','qmkCyCofW5a','ESk0Aw3dPCkCpCojfhX1D8osnmk5qaCr','W6CVvX7cMCkFWPDkW4/cU8ogWRC','uGHEmsdcUx7dMxS3WOGmy0z1lSozEtL6WORcHhRdMmkNFSkR','vZv0W5Oa','WQaTBCk3WRNcJW','W7ddLSkW','WPCrW4RdRmkX','nSkBW6lcPMhdThhcRW','yCkpW4ThAa','W6dcI8kv','W6ddGCkLW6a0W47dVNe','WOlcM3qlnmofAhlcUrBcTSkXrq','rmkPjM/dO8ktpCov','vCkRzYBcQ1K','zZDsxCo/WR5RW7tdICoeiCk8CJZcJSkz','omoTWOtcJfe','WP0eWPrmWPW','fmoXgsfD','WPKrtCk7zHC','W6iScG','W4DJW70','WQb5bq','xZK1W5ZdH8kod8kwWPyFW5tcJa','WPZdL8kuWOuRWPG','B8kYAMaUW5VcKYP+WP4zW6FdLG','WQPAW5L+omkOsftdJq','WOlcOmoqWOLtWR/dNLNdLLOgWPm','CH8TacRcTxpdIW','wCksWQCfW5qvWPRcQYm','W77dNCkTW6qTW4BdVhldHhSNWPNdKbldPCoNCa7dSSkl','FSkPWQuNW7y','W6HpDmouWOT+W7FcNKbLpCk0W5y','WRi2E8omWQjncSonWPJcNdS','BCklWPW','zCk/W53dNHKHW4xdGhldPCkRFq','W6D/W6a8WR4Ldw3dMHb9','FCkOWOS','W5pdTSkiW5eD','sZtcVxJdI8kVsmkFW4RcQSosW6ldUqqhWP4YzItcVq','WRz7cSo1W6qu','W4DkWRWQeG','a8k7iW','DSkdW4bIDmkWWOFdRSkGa8kI','vSkpWOCsWOi','W5ztW4qsWPu9','cMHTWOtcIa','WQpcMdVcKSo8qNm','W6zLW6CJWQ4daeZdGrT2','qM95xqe','oGzC','pCoRWOS','gGzCxmkJW43dIfr2vKhdGmo0WPPo','eMHs','yMKMBCk4WQO','W7hcLYuNW7bq','emkMBW4SW6xdMmkMpba','WRVdVmoLnSo8','W4ddSSkiW5WbW7m','CM0+q8k8WRlcQSo5W47dGW','qCkbAmohW5WiWQufW5W','WQ/dTCokiSoP','WOxdQCoHnCohva','WRKTCComWRn9f8o8','WPb2tCk7eKDpCx0YvY1eAW','WOGFu8k6yHFcN8obzCo+WQm','mGTzxa','dqJcGrJdUCosm8kZgG','CmkwzSobW4DCWQe9W5BdSezVcMBcHCo0WPNcKmoSzxTvWOq','hqZcIXZdPCodm8kyxq','WRXZhKtdH8of','WOepdCk9W74','D8kGqmoMW6yW','WQxdRCoubH4','WRhcHIamlComAMNcRHy','nCoMWOVcGv19W5RdVq','WRObWQPdWRtcQW','W75TpmkaWODTbSoQWPRcIdBdKq','Feztrr4','eanuW5RcVSoD','W4jJvCkedW','E8kjWPmrWOVdHG','WQhdKCofaW','WRqMFSobWR8','WOmAx8oIWOLv','W5nTtmkKbuGmCq','W6n3qCkZeLOCy2D+BcyftmoctCkVW58','AmknWPmCWPC','m8k8WQBdPcmjxhhcLvRcOqq3W7ZcVa','W6mmBsOaW5NcPSocWQxdV0VcGCopoM3cI8k0zmkM','fSkNFZ0TW7ldMq','dSoygH9yWRVdQdy','CGHr','WPxcJdOGkCodF27cOXtdSSofib7dJHvpWPldP3tcPd4b','WRldLCoafSoX','DgSP','WRr3xmoZvSkTzu/cUNBdJq','nZvkW6ZcG8o4W4zi','e8kMDY4X','pmkAW6/cVMBdSxFcQa','W6FcMSkzaSo/BmolrCo1W54','q8kPAIqnW7ddNa','WQldGSofgG','ncPAwmooWQK7W6xdGSkGfCkMza','WQLUeSoPW7jAhHhcLxjeW5VdVsKDCCkfuCkbaYxcV03cQ11hW6tcImk2WRldNCotvcKoimk2WQxcOhfFWRysESkYiKO','vSo6W6BdTuzxsu/cS3VcUY0x','W7NdVmoe','xmk0W5u7W4ZcHaRdLIr3FG','WP3dHSkhWP8QWPeiW7/cMq','DSk4wSoGW6GOWOe','FSkjWPWy','W41PW6BcRCof','AI5qFmk7W6hdNq','f8kRWRhcOb4igW','h8k3BZ87WRVcHCoSlHnIyJhcOrlcML7dM3lcS8o8W6VdTX8dbSoejLBcHNXyWRLK','W4tcPmk4FNdcV8o6W6pdTh8neW','zuHTxXO','WQxdLCoEhSoPDmkiqCkrWPHioCoOWOpcMq','yCklW5nh','v8k3yXm','W6xcGSogbCoywSkcDG','bmk2A1ie','WRmSFmouWRr4eCo7','WOXOev7dL8ovW4GkWORdTConW6FdGIBcH8kXWPeDW4HOW4yiCSkB','wmkpWQ4hW5G','W4TBWQq7gmogfW7dQ8oKW5/cVmkBWQWwdSk+W4hcRHldJ17cJmk5W6hdHCkjW4FdLmos','xCkAWRiuW44xWPRcQZrmD8khoLWMo8oI','vJvnW7GTqYhcVa','eCkDFIdcSW','pvrmWQFcVSoX','WPHSW6i','W5X2W6dcNmoS','ndT1W7tcLmoL','W6pdI8kLW70RW5ldVMi','s1xdMSk6vG','pmkwzcdcPKldU8oQlCoKsgThWO1Yts/cG1egW5ZdHrfFWRtcVGJcVSoQvSkNhdffrmkeW4m8hfFcRCkIWP5C','E8kzW64','BSkPW552W5NcN2/dOZXIFJLzWO9iWRhdRW','f8kHWRBcQGmvpuNcLfJcVre','WRuTEmkMWRi','w8kRW5C6W5q','jt9TW7VcMq','y8kgW4HjyW','g8kxFclcRW','EslcVq','pSoLnZnU','WRiRBW','pCoLlXb2WOldHWXUWPO'];a5_0x2926=function(){return _0x300566;};return a5_0x2926();}export default class Core extends API{constructor(_0x32aae5){const _0x15e52e=a5_0xc8a5;super(),this['acc']=_0x32aae5,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC[_0x15e52e(0x116,'cZb#')]),this['contract']=_0x22f683=>({'WPOL':new ethers['Contract'](TOKENLIST['WPOL'],TOKENLIST[_0x15e52e(0xfa,'0DX#')],_0x22f683),'TPOL':new ethers['Contract'](TOKENLIST['TPOL'],TOKENLIST['ABI'],_0x22f683),'PERMIT2':new ethers[(_0x15e52e(0x10f,'EbA8'))](Permit2['CA'],Permit2[_0x15e52e(0x100,'fQCc')],_0x22f683),'RELAY':new ethers['Contract'](Relayer['CA'],Relayer['ABI'],_0x22f683)});}async['connectWallet'](){const _0x35d839=a5_0xc8a5,_0x191121={'TGTjy':_0x35d839(0xc1,']xDj'),'Zgxol':'mPXvS','XqMXB':'uJNin','mnyMZ':'zzBZz','LAuNa':_0x35d839(0xff,'O[8&')};try{if(_0x191121[_0x35d839(0x11f,'Hw$(')]!==_0x191121[_0x35d839(0xa4,'e9eI')]){const _0x1e29c7=this['acc'],_0x3771d1=privateKey['indexOf'](this['acc']);await Helper['delay'](0x3e8,this[_0x35d839(0x11a,'(a*l')],_0x35d839(0xf3,'8#t8')+(_0x3771d1+0x1),this);const _0x4c0938=Helper['determineType'](_0x1e29c7);a5_0x23232f['info'](_0x35d839(0xac,'aO9(')+_0x4c0938);if(_0x4c0938=='Secret\x20Phrase')this['wallet']=new ethers['Wallet']['fromPhrase'](_0x1e29c7,this[_0x35d839(0x136,'a@Ox')]);else{if(_0x4c0938=='Private\x20Key'){if(_0x191121[_0x35d839(0xbf,'8jMH')]===_0x191121['mnyMZ'])return _0x4de672[_0x35d839(0x115,'O[8&')]()[_0x35d839(0x117,'cZb#')]('(((.+)+)+)+$')['toString']()[_0x35d839(0xa8,'aKkJ')](_0x1d2228)['search']('(((.+)+)+)+$');else this[_0x35d839(0xfc,'SjNI')]=new ethers['Wallet'](_0x1e29c7['trim'](),this['provider']);}else throw Error(_0x191121['LAuNa']);}this['address']=this['wallet']['address'],await Helper['delay'](0x3e8,this['acc'],'Wallet\x20connected\x20'+JSON['stringify'](this[_0x35d839(0x127,'0DX#')]['address']),this);}else throw _0xe45338;}catch(_0x43e74b){throw _0x43e74b;}}async['getBalance'](_0x36f9b9=![]){const _0x41fecb=a5_0xc8a5;try{!_0x36f9b9&&await Helper['delay'](0x1f4,this[_0x41fecb(0xd7,')chu')],'Getting\x20Wallet\x20Balance\x20of\x20'+this[_0x41fecb(0xc4,')MGb')]['address'],this);const _0x242504=ethers['formatEther'](await this['provider'][_0x41fecb(0xc2,'KmNM')](this['wallet']['address']));this['balance']={'ETH':_0x242504,'WPOL':ethers['formatEther'](await this[_0x41fecb(0xcd,'4W%Q')](this['provider'])['WPOL']['balanceOf'](this['address'])),'TPOL':ethers['formatEther'](await this[_0x41fecb(0xf2,'6TW4')](this['provider'])['TPOL'][_0x41fecb(0xbd,'*(&d')](this['address']))},await Helper[_0x41fecb(0xe7,'u&I@')](0x1f4,this[_0x41fecb(0xaa,'aO9(')],'Balance\x20updated',this);}catch(_0x17a800){throw _0x17a800;}}async['connectDapp'](){const _0x3296ad=a5_0xc8a5,_0x5744e5={'pPnWi':'referred!','hnZNX':'refers'};try{await Helper['delay'](0x1f4,this['acc'],_0x3296ad(0xd5,'KmNM'),this);const _0x251a6f=await this[_0x3296ad(0x105,'SjNI')]('https://api.tea-fi.com/referrals','POST',undefined,{'address':this['address'],'code':Helper['code']});if(_0x251a6f['status']==0xc8){if('DyMfx'!=='MJjbb')await Helper[_0x3296ad(0xa1,'v%p#')](0x1f4,this['acc'],'Connected\x20To\x20Tea-Fi',this);else{const _0x460ec9=_0x3995ea?function(){if(_0x23d10a){const _0x1295bb=_0x1ab929['apply'](_0x25a94b,arguments);return _0x32b404=null,_0x1295bb;}}:function(){};return _0x2a49c6=![],_0x460ec9;}}else throw Error(_0x251a6f['data']['message']);}catch(_0x4d5fea){if(!_0x4d5fea['message']['includes']('yourself!')&&!_0x4d5fea['message']['includes'](_0x5744e5['pPnWi'])&&!_0x4d5fea['message'][_0x3296ad(0xb7,'6TW4')](_0x5744e5[_0x3296ad(0x12d,'Qxy3')]))throw _0x4d5fea;}}async['getSugar'](_0x56bd75=![]){const _0x394f9e=a5_0xc8a5,_0x3bbe46={'ErSwW':_0x394f9e(0x12f,'4peW'),'MSISs':function(_0x87995,_0x20f564){return _0x87995==_0x20f564;},'JqHrU':function(_0x5008f0,_0x8c0eb6){return _0x5008f0(_0x8c0eb6);}};try{if('UzXvS'==='oMVer')throw _0x27807b('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x249246+'\x20attempts.');else{const _0x5601f9=await this[_0x394f9e(0x124,')MGb')](_0x394f9e(0xf5,'v%p#')+this['address'],_0x3bbe46['ErSwW'],undefined,undefined,{'x-api-key':'lootexc36Bv3Asef5YF1VqO0tJ5BhmLovzYt84k0Dk1kEJjlB3xTwK0m0hZ2I02p'});if(_0x3bbe46['MSISs'](_0x5601f9[_0x394f9e(0xbe,'8#t8')],0xc8))this['sugar']=_0x5601f9['data']['pointsAmount'];else throw _0x3bbe46['JqHrU'](Error,_0x5601f9[_0x394f9e(0x11c,'EbA8')]+'\x20-\x20'+_0x5601f9['data']['error']);}}catch(_0x37d15e){throw _0x37d15e;}}async[a5_0x3e0af3(0x112,'(a*l')](){const _0xf94952=a5_0x3e0af3,_0x53e6f4={'CRtPN':function(_0x38dbe8,_0x4512ae){return _0x38dbe8==_0x4512ae;},'FYMiA':function(_0x1a8bc3,_0x471067){return _0x1a8bc3!==_0x471067;}};try{await Helper['delay'](0x1f4,this['acc'],'Claiming\x20Daily\x20Sugar...',this);const _0x1a1236=await this[_0xf94952(0x103,'UZby')](_0xf94952(0xe0,'Ee0U')+this['address'],'POST',undefined);if(_0x53e6f4['CRtPN'](_0x1a1236['status'],0xc8)){if(_0x53e6f4[_0xf94952(0x114,'Ee0U')]('viGeq','viGeq'))throw _0x4a2eec;else await this['getSugar'](),await Helper[_0xf94952(0xcb,'6TW4')](0xbb8,this['acc'],'Daily\x20Sugar\x20Claimed,\x20Got\x20'+_0x1a1236['data']['points'],this);}else await Helper['delay'](0xbb8,this['acc'],_0x1a1236['data']['message'],this);}catch(_0x2054d4){throw _0x2054d4;}}async['transaction'](_0x2f413b,_0x413473,_0x5e0648,_0x4beae8,_0x36c506=0x2){const _0x3fd8d2=a5_0x3e0af3,_0xb3dc24={'xmWsu':function(_0x4090b6,_0x5cc6a7){return _0x4090b6(_0x5cc6a7);},'NqOuU':function(_0x42be3c,_0x2bd8ca){return _0x42be3c*_0x2bd8ca;},'JpwkG':'RlvAT'};try{await Helper['delay'](0x1f4,this[_0x3fd8d2(0x13d,'Nbh*')],'Submitting\x20Transaction\x20to\x20Tea-Fi...',this);const _0x3c78d3={'blockchainId':RPC['CHAINID'],'type':_0x36c506,'walletAddress':this['address'],'hash':_0x413473['hash'],'fromTokenAddress':_0x5e0648[0x0]['CA'],'toTokenAddress':_0x5e0648[0x1]['CA'],'fromTokenSymbol':_0x5e0648[0x0]['SYMBOL'],'toTokenSymbol':_0x5e0648[0x0]['SYMBOL'],'fromAmount':Number(_0x4beae8),'toAmount':_0xb3dc24[_0x3fd8d2(0x11e,'aKkJ')](Number,_0x4beae8),'gasFeeTokenAddress':TOKENLIST['GAS'],'gasFeeTokenSymbol':RPC['SYMBOL'],'gasFeeAmount':_0xb3dc24['xmWsu'](Number,_0xb3dc24['NqOuU'](_0x413473['gasUsed'],_0x413473['gasPrice']))},_0x4a86a3=await this['fetch'](_0x3fd8d2(0xea,'Hw$('),'POST',undefined,_0x3c78d3);a5_0x23232f['info']('Transaction\x20Sent\x20:\x20'+JSON[_0x3fd8d2(0x143,'0DX#')](Helper['serializeBigInt'](_0x3c78d3)));if(_0x4a86a3['status']==0xc8){if('RlvAT'===_0xb3dc24['JpwkG']){if(_0x4a86a3['data']['pointsAmount']!=0x0)await this['getSugar']();await Helper['delay'](0xbb8,this['acc'],'Transaction\x20Submitted\x20to\x20Tea-Fi,\x20Got\x20'+_0x4a86a3['data'][_0x3fd8d2(0x102,'[NZL')]+_0x3fd8d2(0x137,'O[8&'),this);}else this[_0x3fd8d2(0xa0,'Ee0U')]=new _0x449f87['Wallet'](_0xfcc368[_0x3fd8d2(0xde,'(a*l')](),this['provider']);}else await Helper[_0x3fd8d2(0x109,'@1!Q')](0xbb8,this['acc'],_0x4a86a3['data']['message'],this);}catch(_0x4e8366){throw _0x4e8366;}}async['deposit'](){const _0xa6a2f6=a5_0x3e0af3,_0x48ce70={'WBxRl':function(_0x4a87dd,_0x293c8a){return _0x4a87dd===_0x293c8a;}};try{await Helper['delay'](0x1f4,this['acc'],'Try\x20To\x20Wrap\x20'+RPC['SYMBOL'],this);const _0x19d205=this['contract'](this[_0xa6a2f6(0xb2,'4peW')])['WPOL'],_0x189333=ethers[_0xa6a2f6(0x111,'t)^w')](Config[_0xa6a2f6(0x147,'4peW')]['toString']()),_0x3192d4=await _0x19d205['deposit']['populateTransaction'](),_0x53414c=await this['buildTxBody'](_0x3192d4,_0x189333),_0x5bb364=await this[_0xa6a2f6(0x146,'EbA8')](_0x53414c);await Helper['delay'](0x1f4,this['acc'],_0xa6a2f6(0xce,'4W%Q')+RPC[_0xa6a2f6(0xb6,'(a*l')],this);}catch(_0xd715f8){if(_0x48ce70['WBxRl']('jDstw','jDstw'))throw _0xd715f8;else throw _0x28b25e;}}async['wrap'](){const _0x19cb7f=a5_0x3e0af3,_0x590c67={'PdRcM':'WRAPPING'};try{await Helper[_0x19cb7f(0xa9,'8Epq')](0x1f4,this['acc'],'Try\x20To\x20Wrap\x20W'+RPC['SYMBOL']+'\x20to\x20t'+RPC['SYMBOL'],this);const _0x4ae12b=this['contract'](this['wallet'])['WPOL'],_0x3760ca=await _0x4ae12b['balanceOf'](this['address']);let _0x2b42df=_0x3760ca,_0x526731=ethers['formatEther'](_0x2b42df);if(_0x526731==0x0){await Helper[_0x19cb7f(0xa1,'v%p#')](0x1f4,this['acc'],'No\x20'+await _0x4ae12b['symbol']()+_0x19cb7f(0xb8,'4W%Q'),this);return;}_0x2b42df=ethers['parseEther'](Config[_0x19cb7f(0xd3,'@1!Q')][_0x19cb7f(0x145,'cZb#')]()),_0x526731=ethers['formatEther'](_0x2b42df),await Helper[_0x19cb7f(0xa6,'Ld3f')](0x1f4,this['acc'],'Wrap\x20'+_0x526731+'\x20W'+RPC[_0x19cb7f(0xf9,'Ld3f')]+'\x20to\x20'+_0x526731+'\x20t'+RPC[_0x19cb7f(0xc0,'zuYS')],this),await this['approveTokenCheck'](await _0x4ae12b['getAddress'](),Permit2['CA']);const _0xfc3a4=await this['contract'](this['wallet'])[_0x19cb7f(0x11b,'c*Vm')]['wrap'][_0x19cb7f(0xd1,'Ge30')](_0x2b42df,this['address']),_0x3c2650=await this[_0x19cb7f(0x121,']xDj')](_0xfc3a4,0x0),_0x279834=await this['executeTx'](_0x3c2650);await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Wrap\x20'+_0x526731+'\x20W'+RPC[_0x19cb7f(0xaf,'@%G]')]+'\x20to\x20t'+RPC['SYMBOL'],this),await this['transaction'](_0x3c2650,_0x279834,[{'CA':TOKENLIST['WPOL'],'SYMBOL':'W'+RPC['SYMBOL']},{'CA':TOKENLIST['TPOL'],'SYMBOL':'t'+RPC['SYMBOL']}],_0x2b42df),await a5_0x544dfa['insertData'](this[_0x19cb7f(0xd2,'Hw$(')],new Date()['toISOString'](),_0x590c67[_0x19cb7f(0x13a,')MGb')]);}catch(_0x51659d){throw _0x51659d;}}async['unwrap'](){const _0x4e4e09=a5_0x3e0af3,_0x544e0e={'OycNm':_0x4e4e09(0xbb,'*(&d'),'Ndzke':_0x4e4e09(0xb5,'(a*l'),'gYkrb':'qdNPA'};try{await Helper['delay'](0x1f4,this['acc'],_0x4e4e09(0xd0,'[NZL')+RPC['SYMBOL']+'\x20to\x20W'+RPC[_0x4e4e09(0xcc,'6TW4')],this);const _0x43581c=this['contract'](this['wallet'])['TPOL'],_0x5a9184=await _0x43581c['balanceOf'](this['address']),_0x4fe1f6=_0x5a9184,_0x20f0e0=ethers[_0x4e4e09(0xe3,'fQCc')](_0x4fe1f6);if(_0x20f0e0==0x0){if('trALU'==='RjWhP')throw _0x359173;else{await Helper[_0x4e4e09(0xd6,'(a*l')](0x1f4,this[_0x4e4e09(0x10a,'UZby')],_0x4e4e09(0xe2,'4peW')+await _0x43581c['symbol']()+_0x4e4e09(0x138,'$1jL'),this);return;}}await Helper['delay'](0x1f4,this[_0x4e4e09(0x108,'k2YO')],'Unwrap\x20'+_0x20f0e0+'\x20t'+RPC[_0x4e4e09(0x119,'w1^7')]+_0x4e4e09(0xef,'eRrR')+_0x20f0e0+'\x20W'+RPC[_0x4e4e09(0xc7,'SjNI')],this),await this[_0x4e4e09(0x110,'cZb#')](await _0x43581c[_0x4e4e09(0xb0,'Hw$(')](),Permit2['CA']);const _0x1b3f82=await _0x43581c['unwrap']['populateTransaction'](_0x4fe1f6,this['address']),_0x4017c2=await this['buildTxBody'](_0x1b3f82,0x0),_0x1099a5=await this['executeTx'](_0x4017c2);await Helper['delay'](0x1f4,this['acc'],_0x4e4e09(0x9f,'k2YO')+_0x20f0e0+'\x20t'+RPC[_0x4e4e09(0x10e,'0DX#')]+'\x20to\x20W'+RPC['SYMBOL'],this),await this['transaction'](_0x4017c2,_0x1099a5,[{'CA':TOKENLIST['TPOL'],'SYMBOL':'t'+RPC['SYMBOL']},{'CA':TOKENLIST['WPOL'],'SYMBOL':'W'+RPC[_0x4e4e09(0xa5,'aKkJ')]},,],_0x4fe1f6,0x3),await a5_0x544dfa['insertData'](this['address'],new Date()['toISOString'](),_0x4e4e09(0x134,'4peW'));}catch(_0x201c9c){if(_0x544e0e[_0x4e4e09(0x130,'d7Nl')]!==_0x544e0e['gYkrb'])throw _0x201c9c;else{if(!_0x24a220['message'][_0x4e4e09(0xf7,'Qxy3')]('yourself!')&&!_0x4c989b['message'][_0x4e4e09(0xc3,'TtyA')](_0x544e0e['OycNm'])&&!_0x4a5155['message']['includes']('refers'))throw _0x4d634e;}}}async['withdraw'](){const _0x4ca2d8=a5_0x3e0af3,_0x521af3={'uzjPP':'ONIrR'};try{if('EBwPn'===_0x521af3[_0x4ca2d8(0xfb,'u&I@')])throw _0x5c16bd;else{await Helper['delay'](0x1f4,this['acc'],'Trying\x20to\x20Unwrap\x20'+RPC['SYMBOL'],this);const _0xaaba25=this['contract'](this[_0x4ca2d8(0xae,')chu')])['WPOL'],_0xe0eab1=await _0xaaba25['balanceOf'](this['address']),_0x16a8a2=_0xe0eab1,_0x38f82f=ethers[_0x4ca2d8(0xb9,'0@CE')](_0x16a8a2);if(_0x38f82f==0x0){await Helper[_0x4ca2d8(0x9e,'4peW')](0x1f4,this['acc'],_0x4ca2d8(0x12a,'a@Ox'),this);return;}await Helper[_0x4ca2d8(0xfe,'w0O%')](0x1f4,this[_0x4ca2d8(0x13f,'Ee0U')],'Unwrapping\x20'+_0x38f82f+'\x20'+RPC['SYMBOL'],this);const _0x24694b=await _0xaaba25['withdraw']['populateTransaction'](_0x16a8a2),_0x867c7e=await this['buildTxBody'](_0x24694b,0x0),_0x38a73b=await this['executeTx'](_0x867c7e);await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Unwrap\x20'+RPC['SYMBOL'],this);}}catch(_0x5e9c5b){if('CBxcb'!==_0x4ca2d8(0xec,'8Epq'))this['wallet']=new _0x584120['Wallet'][(_0x4ca2d8(0xdc,'w1^7'))](_0x122b1f,this['provider']);else throw _0x5e9c5b;}}async[a5_0x3e0af3(0xc8,'4W%Q')](){const _0x59179f=a5_0x3e0af3;try{await Helper[_0x59179f(0xcb,'6TW4')](0x1f4,this[_0x59179f(0xad,'c*Vm')],'Try\x20To\x20Executing\x20RAW\x20Transaction',this);const _0x10274d=ethers['parseEther'](Config[_0x59179f(0xfd,'4peW')]),_0x3fea7e=Config[_0x59179f(0x10d,'PGYp')][_0x59179f(0xe5,'zuYS')],_0x4f1caa=await this[_0x59179f(0x9c,'aKkJ')](_0x3fea7e,_0x10274d);await this[_0x59179f(0xb4,'zuYS')](_0x4f1caa);}catch(_0x3757ab){throw _0x3757ab;}}async['executeTx'](_0x4f04e4){const _0x166613=a5_0x3e0af3,_0x35dc6c={'KJxam':function(_0x21e2b4,_0x64deb7){return _0x21e2b4!==_0x64deb7;}};try{if(_0x35dc6c['KJxam']('eWfuT',_0x166613(0x13b,'@1!Q'))){a5_0x23232f['info']('TX\x20DATA\x20'+JSON[_0x166613(0xe4,'L!Z7')](Helper[_0x166613(0xed,'(a*l')](_0x4f04e4)));const _0x397c5c=RPC['EXPLORER'];await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x4544ba=await this[_0x166613(0xc9,'e9eI')]['sendTransaction'](_0x4f04e4);if(Config['WAITFORBLOCKCONFIRMATION']){a5_0x23232f[_0x166613(0xba,'aO9(')](_0x166613(0x135,'KmNM')+_0x397c5c+_0x166613(0xd4,'cZb#')+_0x4544ba['hash']),await Helper[_0x166613(0x132,'mWs0')](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x25a64=await this['waitWithTimeout'](_0x4544ba,0x5*0x3c*0x3e8);return a5_0x23232f['info']('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x166613(0x125,'MO[8')](_0x25a64)),await Helper['delay'](0x1388,this[_0x166613(0xab,'TtyA')],_0x166613(0x12c,'cZb#')+_0x397c5c+'tx/'+_0x25a64['hash'],this),await this[_0x166613(0x10b,'@1!Q')](),_0x25a64;}else return await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed...',this),await Helper[_0x166613(0xf4,'EbA8')](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+_0x397c5c+_0x166613(0xa2,'eRrR')+_0x4544ba['hash'],this),await this[_0x166613(0xb3,')chu')](),_0x4544ba;}else{const _0x1dbbda=_0xfcc9de['apply'](_0x580839,arguments);return _0x3027c5=null,_0x1dbbda;}}catch(_0x2c0865){if(_0x2c0865['message'][_0x166613(0x131,'t)^w')]('504'))await Helper['delay'](0x1388,this[_0x166613(0x133,'w1^7')],_0x2c0865['message'],this);else{a5_0x23232f['error']('Error\x20in\x20executing\x20transaction:\x20'+_0x2c0865['message']);throw _0x2c0865;}}}async['waitWithTimeout'](_0x421799,_0x3e2e31){const _0x4530b8=a5_0x3e0af3,_0x5ea699={'AIfnl':function(_0x3ccb18,_0x3dc21a){return _0x3ccb18(_0x3dc21a);},'HbNMO':'Re-executing\x20transaction\x20due\x20to\x20timeout.'};let _0x485557=![];const _0x1313bb=new Promise((_0x1e0f83,_0xacfb7e)=>{const _0x23ebf9={'mLIAt':function(_0x2a66e8,_0x5172f9){return _0x5ea699['AIfnl'](_0x2a66e8,_0x5172f9);}};setTimeout(()=>{const _0x3dd067=a5_0xc8a5;_0x485557=!![],_0x23ebf9[_0x3dd067(0xb1,'(a*l')](_0xacfb7e,new Error('Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.'));},_0x3e2e31);});try{const _0x510a88=await Promise[_0x4530b8(0xe6,'e9eI')]([_0x421799['wait'](),_0x1313bb]);return _0x510a88;}catch(_0x457cd2){if(_0x485557)return a5_0x23232f['warn'](_0x5ea699['HbNMO']),this['executeTx'](_0x421799);throw _0x457cd2;}}async['getOptimalNonce'](){const _0x351af0=a5_0x3e0af3;try{const _0x5cb81c=await this['provider']['getTransactionCount'](this['wallet'][_0x351af0(0xa7,'T&#y')],'latest'),_0x478c81=await this['provider']['getTransactionCount'](this['wallet']['address'],_0x351af0(0xe9,'[NZL')),_0x30b25a=_0x478c81>_0x5cb81c?_0x478c81:_0x5cb81c;return _0x30b25a;}catch(_0xacfea){throw _0xacfea;}}async['estimateGasWithRetry'](_0x53dec1,_0x19ad62,_0x23a988,_0x363626=![],_0x468214=0x3,_0x1bb894=0xbb8){const _0x58e253=a5_0x3e0af3,_0x1fb108={'CugKA':function(_0x220a90,_0x3a54c2){return _0x220a90(_0x3a54c2);}};for(let _0x3996ce=0x0;_0x3996ce<_0x468214;_0x3996ce++){try{if('ZLFyf'===_0x58e253(0xc6,'8Epq')){a5_0x23232f['info']('Estimating\x20Gas\x20for\x20'+_0x23a988+'\x20TX');const _0x525c47=await this['provider']['estimateGas']({'from':this[_0x58e253(0x13c,'0@CE')]['address'],'to':_0x53dec1,'value':_0x19ad62,'data':_0x23a988});return _0x525c47;}else throw _0x3b428b(_0x3c0981['status']+_0x58e253(0x120,')MGb')+_0x8f8ef3[_0x58e253(0xee,'mWs0')]['error']);}catch(_0x2b2fd6){if(_0x363626){if('fumjW'!=='fumjW')this[_0x58e253(0xf1,'eRrR')]=_0x381004['data'][_0x58e253(0x122,'zuYS')];else throw _0x2b2fd6;}else{await Helper[_0x58e253(0xcf,'e9eI')](_0x1bb894,this['acc'],_0x2b2fd6[_0x58e253(0x141,'L!Z7')]+_0x58e253(0xc5,'6TW4')+(_0x3996ce+0x1)+'\x20of\x20'+_0x468214,this);if(_0x3996ce===_0x468214-0x1)throw _0x1fb108['CugKA'](Error,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x468214+'\x20attempts.');}}}}async['buildTxBody'](_0x35c380,_0x5a3848=0x0,_0x2c8f15=undefined,_0x1688ca=![]){const _0x592e65=await this['getOptimalNonce'](),_0x478153={'to':_0x2c8f15??_0x35c380['to'],'from':this['address'],'value':_0x5a3848,'nonce':_0x592e65,'data':_0x35c380['data']};return _0x478153;}async[a5_0x3e0af3(0xf6,'EbA8')](_0x1cf854,_0xe3e543){const _0x3c0726=a5_0x3e0af3,_0x1dd7d7={'UQJZL':function(_0x5b8697,_0x4dbcd3){return _0x5b8697(_0x4dbcd3);}},_0x8dcdcd=new ethers['Contract'](_0x1cf854,TOKENLIST[_0x3c0726(0x9d,'EbA8')],this['wallet']),_0x28fb7f=await _0x8dcdcd['allowance'](this['address'],_0xe3e543);if(_0x1dd7d7['UQJZL'](Number,_0x28fb7f)<Config['INITIALDEPOSITAMOUNT']){await Helper[_0x3c0726(0xf8,'O[8&')](0x1f4,this[_0x3c0726(0x13d,'Nbh*')],_0x3c0726(0x101,'fQCc')+_0x1cf854+'\x20spend\x20by\x20'+_0xe3e543,this);const _0x2bbcb2=await _0x8dcdcd['approve'](_0xe3e543,ethers['MaxUint256']);await _0x2bbcb2[_0x3c0726(0xca,'(a*l')](),await Helper[_0x3c0726(0x129,'zuYS')](0x1f4,this['acc'],'Token\x20'+_0x1cf854+'\x20Approved\x20to\x20Spend\x20By\x20'+_0xe3e543,this);}else await Helper[_0x3c0726(0x139,'TtyA')](0x1f4,this[_0x3c0726(0x9a,'e9eI')],'Approval\x20Found',this);}async['permitToken'](_0x42ff1e,_0x130962){const _0x564306=a5_0x3e0af3,_0x4373e3={'LaPfy':function(_0x4bca22,_0x35d4da){return _0x4bca22*_0x35d4da;},'RbBAi':_0x564306(0x11d,'O[8&'),'BCgAW':_0x564306(0xa7,'T&#y'),'sWApm':'uint256','lkMas':'uint160','eNTQK':_0x564306(0x107,'O[8&')};await Helper['delay'](0x1f4,this['acc'],'Checking\x20Token\x20Permit',this);const _0x584c7b=this[_0x564306(0xdb,'t)^w')](this['wallet'])['PERMIT2'],_0x35875f=new ethers['Contract'](_0x130962,TOKENLIST['ABI'],this['wallet']),_0x24a679=await _0x584c7b['allowance'](this['address'],_0x42ff1e,_0x130962);if(Number(_0x24a679[0x0])==0x0||Date['now']()/0x3e8>Number(_0x24a679[0x1])){await Helper['delay'](0x1f4,this['acc'],'Permit\x20Token\x20Spend',this);const _0x441208=BigInt(0x12725dd1d243ac000000000000),_0xa24c63=await _0x584c7b['nonceBitmap'](this['address'],await this['getOptimalNonce']()),_0xe65af0=Math[_0x564306(0x106,'mWs0')](Date[_0x564306(0x13e,'u&I@')]()/0x3e8)+_0x4373e3['LaPfy'](0x18*0x3c,0x3c),_0x4e57e0={'name':'0xf033048cb2764f596bc4d98e089fa38bb84b4be3d5da2e77f9bfac0e4d6c68ca','version':'1','chainId':RPC['CHAINID'],'verifyingContract':await _0x584c7b['getAddress']()},_0x2bc6d5={'PermitSingle':[{'name':'details','type':'PermitDetails'},{'name':_0x4373e3['RbBAi'],'type':_0x4373e3['BCgAW']},{'name':_0x564306(0xa3,'mWs0'),'type':_0x4373e3['sWApm']}],'PermitDetails':[{'name':_0x564306(0x126,'T&#y'),'type':_0x4373e3[_0x564306(0x148,'EbA8')]},{'name':'amount','type':_0x4373e3['lkMas']},{'name':'expiration','type':'uint48'},{'name':_0x4373e3['eNTQK'],'type':'uint48'}]},_0x58ef80={'details':{'token':_0x42ff1e,'amount':_0x441208,'expiration':_0xe65af0,'nonce':_0xa24c63},'spender':_0x130962,'sigDeadline':_0xe65af0},_0xfbee8c=await this[_0x564306(0x127,'0DX#')][_0x564306(0xdf,'$1jL')](_0x4e57e0,_0x2bc6d5,_0x58ef80),{v:_0xa26415,r:_0x3521c0,s:_0x5bcaae}=ethers['Signature']['from'](_0xfbee8c),_0x1a8c60=await _0x584c7b[_0x564306(0x128,'T&#y')][_0x564306(0x113,'8#t8')](this['address'],_0x58ef80,_0xfbee8c),_0x11ab47=await this[_0x564306(0x99,'6TW4')](_0x1a8c60);await this['executeTx'](_0x11ab47),await Helper[_0x564306(0xda,'Hw$(')](0x1f4,this['acc'],'Token\x20Permitted',this);}else await Helper['delay'](0x1f4,this['acc'],_0x564306(0xbc,'zuYS'),this);}}

/* Make 'tPOL' as gas fee since it gives 70 cubes. I can unobsfucate this code, but I don't know how to build the TX body

Below is the raw data where 'tPOL' is set as gas fee

{
    "domain": {
        "chainId": "137",
        "name": "Tea-Fi TrustedForwarder",
        "version": "1",
        "verifyingContract": "0x997f38e2ffc1d5fbaece8765f315f2c39f2da31f"
    },
    "message": {
        "from": "xxx",
        "to": "0x1cd0cd01c8c902adab3430ae04b9ea32cb309cf1",
        "value": "0",
        "gas": "67567",
        "nonce": "14",
        "deadline": "1739582397",
        "data": "xxxx"
    },
    "primaryType": "ForwardRequest",
    "types": {
        "EIP712Domain": [
            {
                "name": "name",
                "type": "string"
            },
            {
                "name": "version",
                "type": "string"
            },
            {
                "name": "chainId",
                "type": "uint256"
            },
            {
                "name": "verifyingContract",
                "type": "address"
            }
        ],
        "ForwardRequest": [
            {
                "name": "from",
                "type": "address"
            },
            {
                "name": "to",
                "type": "address"
            },
            {
                "name": "value",
                "type": "uint256"
            },
            {
                "name": "gas",
                "type": "uint256"
            },
            {
                "name": "nonce",
                "type": "uint256"
            },
            {
                "name": "deadline",
                "type": "uint48"
            },
            {
                "name": "data",
                "type": "bytes"
            }
        ]
    }
}

*/
